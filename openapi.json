{"openapi":"3.1.0","info":{"title":"MacrosCoach API","version":"0.1.0"},"paths":{"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/users/demo":{"post":{"summary":"Create Demo User","operationId":"create_demo_user_users_demo_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/foods/barcode/{code}":{"get":{"summary":"Food By Barcode","operationId":"food_by_barcode_foods_barcode__code__get","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/barcode/search":{"get":{"summary":"Barcode Search","operationId":"barcode_search_barcode_search_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/meals/add_from_barcode":{"post":{"summary":"Add Meal From Barcode","operationId":"add_meal_from_barcode_meals_add_from_barcode_post","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","description":"Barcode prodotto","title":"Code"},"description":"Barcode prodotto"},{"name":"grams","in":"query","required":true,"schema":{"type":"number","description":"Quantità in grammi","title":"Grams"},"description":"Quantità in grammi"},{"name":"slot","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slot"}},{"name":"when","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"When"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/foods/recent":{"get":{"summary":"Foods Recent","operationId":"foods_recent_foods_recent_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/meals":{"post":{"summary":"Create Meal","operationId":"create_meal_meals_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/meals/today":{"get":{"summary":"Meals Today","operationId":"meals_today_meals_today_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/weight":{"post":{"summary":"Add Weight","operationId":"add_weight_weight_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeightIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/weights/all":{"get":{"summary":"Weights All","operationId":"weights_all_weights_all_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workouts":{"post":{"summary":"Add Workout","operationId":"add_workout_workouts_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workouts/all":{"get":{"summary":"Workouts All","operationId":"workouts_all_workouts_all_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/summary/day":{"get":{"summary":"Summary Day","operationId":"summary_day_summary_day_get","parameters":[{"name":"date","in":"query","required":true,"schema":{"type":"string","title":"Date"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/debug/pingdb":{"get":{"summary":"Debug Pingdb","operationId":"debug_pingdb_debug_pingdb_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/summary/week":{"get":{"summary":"Summary Week","operationId":"summary_week_summary_week_get","parameters":[{"name":"start","in":"query","required":true,"schema":{"type":"string","title":"Start"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/check/weekly":{"get":{"summary":"Check Weekly","operationId":"check_weekly_check_weekly_get","parameters":[{"name":"start","in":"query","required":true,"schema":{"type":"string","title":"Start"}},{"name":"protein_target_g","in":"query","required":false,"schema":{"type":"number","default":120.0,"title":"Protein Target G"}},{"name":"kcal_target","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Kcal Target"}},{"name":"min_workouts","in":"query","required":false,"schema":{"type":"integer","default":3,"title":"Min Workouts"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/weights/trend":{"get":{"summary":"Weights Trend","operationId":"weights_trend_weights_trend_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","description":"ID utente","default":1,"title":"User Id"},"description":"ID utente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/weights/weekly":{"get":{"summary":"Weights Weekly","operationId":"weights_weekly_weights_weekly_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","description":"ID utente","default":1,"title":"User Id"},"description":"ID utente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/meals/{meal_id}":{"delete":{"summary":"Delete Meal","description":"Elimina un pasto e i suoi item per l'utente indicato.","operationId":"delete_meal_meals__meal_id__delete","parameters":[{"name":"meal_id","in":"path","required":true,"schema":{"type":"integer","title":"Meal Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/weights/{weight_id}":{"delete":{"summary":"Delete Weight","description":"Elimina una singola pesata dell'utente indicato.","operationId":"delete_weight_weights__weight_id__delete","parameters":[{"name":"weight_id","in":"path","required":true,"schema":{"type":"integer","title":"Weight Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/weights/range":{"get":{"summary":"Weights Range","description":"Restituisce tutte le pesate nel range [start, end).\nAccetta date (YYYY-MM-DD) o datetime ISO; end esclusivo.","operationId":"weights_range_weights_range_get","parameters":[{"name":"start","in":"query","required":true,"schema":{"type":"string","title":"Start"}},{"name":"end","in":"query","required":true,"schema":{"type":"string","title":"End"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","description":"ID utente","default":1,"title":"User Id"},"description":"ID utente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MealIn":{"properties":{"when":{"type":"string","format":"date-time","title":"When"},"items":{"items":{"$ref":"#/components/schemas/MealItemIn"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"MealIn"},"MealItemIn":{"properties":{"food_name":{"type":"string","title":"Food Name"},"grams":{"type":"number","title":"Grams"},"pro":{"type":"number","title":"Pro","default":0},"carb":{"type":"number","title":"Carb","default":0},"fat":{"type":"number","title":"Fat","default":0}},"type":"object","required":["food_name","grams"],"title":"MealItemIn"},"SetIn":{"properties":{"exercise":{"type":"string","title":"Exercise"},"reps":{"type":"integer","title":"Reps"},"weight_kg":{"type":"number","title":"Weight Kg","default":0}},"type":"object","required":["exercise","reps"],"title":"SetIn"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WeightIn":{"properties":{"when":{"type":"string","format":"date-time","title":"When"},"kg":{"type":"number","title":"Kg"}},"type":"object","required":["kg"],"title":"WeightIn"},"WorkoutIn":{"properties":{"when":{"type":"string","format":"date-time","title":"When"},"sets":{"items":{"$ref":"#/components/schemas/SetIn"},"type":"array","title":"Sets","default":[]}},"type":"object","title":"WorkoutIn"}}}}